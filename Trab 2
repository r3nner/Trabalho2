#include <stdio.h>
#include <stdlib.h>
#include <string.h>

void elaboraMatriz(int **mat,int linhas,int colunas){
    char i, j, aux, tam;
    char *string;
    string=(char*)malloc(linhas*colunas*sizeof(char)+1);
    printf("\nEscreva um texto para completar a matriz: ");
    scanf(" %[^\n]s", string);
    tam= strlen(string);
    for (i=0; i<linhas*colunas; i++){
        if (string[i]==' '){
            aux=i;
            while (aux<linhas*colunas){
                string[aux]=string[aux+1];
                aux++;
            }
        }
    }
    printf("\n\n%s\n\n", string);
    printaMatriz(string, linhas, colunas);
}

void printaMatriz(char *string,int linha, int coluna){
    int i, j, cont, tam;
    cont=0;
    tam= strlen(string);
    for(i=0; i<linha; i++){
        for (j=0; j<coluna; j++){
            if (cont>=tam){
                printf("   ");
            }
            else{
            printf(" %c ", string[i*coluna+j]);
            }
            cont++;
        }
        printf("\n");
    }
}

int main()
{
    int l,c, i;
    int **mat;
    printf("\nDigite o numero de linhas:");
    scanf("%d", &l);
    printf("\nDigite o numero de colunas:");
    scanf("%d", &c);
    char texto[l*c];
    mat=(int*)malloc(l*sizeof(int));
    for (i=0; i<c; i++){
        mat[i]=(int*)malloc(c*sizeof(int));
    }
    elaboraMatriz(mat, l, c);

    return 0;
}
